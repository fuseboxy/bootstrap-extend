$(function(){$(document).ajaxError(function(e,t,o,a){if($("body[data-ajax-error]").length&&$("body").attr("data-ajax-error").length||$("body").attr("data-ajax-error","modal"),"modal"==$("body").attr("data-ajax-error")&&$("body.modal-open").length){var n=$(".modal.show");$("#bsx-error-alert").length||$('<div id="bsx-error-alert" class="alert alert-danger" role="alert"></div>').prependTo(n.find(".modal-body")).on("click",function(){$(this).slideUp()}).hide(),$("#bsx-error-alert").html("").append('<h3 class="mt-0 text-danger">Error</h3>').append("<pre>"+t.responseText+"</pre>").append('<small><em class="text-danger">'+o.url+"</em></small>").filter(":visible").hide().fadeIn().end().filter(":hidden").slideDown(),n.animate({scrollTop:0})}else"modal"==$("body").attr("data-ajax-error")?($("#bsx-error-modal").length||$("body").append('\n\t\t\t\t<div id="bsx-error-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="bsx-error-modal" aria-hidden="true">\n\t\t\t\t\t<div class="modal-dialog">\n\t\t\t\t\t\t<div class="modal-content bg-danger">\n\t\t\t\t\t\t\t<div class="modal-body"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t'),$("#bsx-error-modal").modal("show").find(".modal-body").html("").append('<h3 class="mt-0 text-white">Error</h3>').append("<pre>"+t.responseText+"</pre>").append('<small><em class="text-warning">'+o.url+"</em></small>")):"alert"==$("body").attr("data-ajax-error")?alert("[Error]\n"+t.responseText+"\n\n"+o.url):console.log("[Error] "+t.responseText+" ("+o.url+")")}),$(document).on("click","[href][data-target][data-toggle=ajax-modal],[data-href][data-target][data-toggle=ajax-modal]",function(e){e.preventDefault();var t=$(this),o=$(t.attr("data-target"));if(!o.length)return console.log("[ERROR] Target modal not found ("+t.attr("data-target")+")"),!1;o.find(".modal-dialog").length||console.log("[ERROR] Target modal has no <DIV.modal-dialog> element ("+t.attr("data-target")+")"),o.find(".modal-content").length||o.find(".modal-dialog").append('<div class="modal-content"></div>'),o.find(".modal-content").html('\n\t\t\t<div class="modal-header">\n\t\t\t\t<div class="modal-title text-muted"><i class="fa fa-spinner fa-pulse"></i><span class="ml-2">Loading...</span></div>\n\t\t\t</div>\n\t\t\t<div class="modal-body">\n\t\t\t\t<div class="py-4 my-4"></div>\n\t\t\t</div>\n\t\t\t<div class="modal-footer">\n\t\t\t\t<button type="button" class="btn btn-light" data-dismiss="modal">Close</button>\n\t\t\t</div>\n\t\t'),o.find(".modal-content").load(t.attr(t.is("[href]")?"href":"data-href"))}),$(document).on("click","[data-toggle=ajax-load]",function(e){e.preventDefault();$(document).trigger("ajaxLoad.bsx",this)}).on("submit","[data-toggle=ajax-submit]",function(e){e.preventDefault();var t=$(this).closest("form");$(document).trigger("ajaxSubmit.bsx",t)}).on("ajaxLoad.bsx ajaxSubmit.bsx",function(evt,triggerElement){if($(triggerElement).is("[data-confirm]")){var msg=$(triggerElement).attr("data-confirm").length?$(triggerElement).attr("data-confirm"):"Are you sure?";if(!confirm(msg))return!1}var targetSelector=$(triggerElement).attr("data-target"),toggleMode=$(triggerElement).is("[data-toggle-mode]")?$(triggerElement).attr("data-toggle-mode"):"replace",toggleTransition=$(triggerElement).is("[data-toggle-transition]")?$(triggerElement).attr("data-toggle-transition"):"slide",toggleCallback=$(triggerElement).is("[data-toggle-callback]")?$(triggerElement).attr("data-toggle-callback"):"",toggleLoading=$(triggerElement).is("[data-toggle-loading]")?$(triggerElement).attr("data-toggle-loading"):"progress",togglePushState=!!$(triggerElement).is("[data-toggle-pushstate]"),configBlockUI;$.fn.block&&(configBlockUI={message:!1,css:{backgroundColor:"none",border:"none"},fadeIn:0,showOverlay:!0},"none"==toggleLoading?configBlockUI.overlayCSS={"background-color":"white",opacity:0}:"spinner"==toggleLoading||"spinner-large"==toggleLoading?(configBlockUI.message="spinner-large"==toggleLoading?'<i class="fa fa-spin fa-spinner fa-4x text-muted"></i>':'<i class="fa fa-spin fa-spinner text-muted"></i>',configBlockUI.overlayCSS={"background-color":"gray",opacity:.1}):configBlockUI.overlayCSS="overlay"==toggleLoading?{"background-color":"gray",opacity:.1}:{"-webkit-animation":"progress-bar-stripes 2s linear infinite",animation:"progress-bar-stripes 2s linear infinite","background-color":"#bbb","background-image":"-webkit-linear-gradient(45deg, rgba(255, 255, 255, .15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .15) 50%, rgba(255, 255, 255, .15) 75%, transparent 75%, transparent)","background-image":"linear-gradient(45deg, rgba(255, 255, 255, .15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .15) 50%, rgba(255, 255, 255, .15) 75%, transparent 75%, transparent)","background-size":"40px 40px"});var toggleCallback=$(triggerElement).is("[data-toggle-callback]")?$(triggerElement).attr("data-toggle-callback"):"",toggleCallbackFunc=function(){};if(toggleCallback.length&&eval("toggleCallbackFunc = "+toggleCallback+";"),$(document).on(evt.type+"Callback.bsx",toggleCallbackFunc),targetSelector?$(targetSelector).length||console.log("[Error] "+evt.type+"."+evt.namespace+" - target not found ("+targetSelector+")"):console.log("[Error] "+evt.type+"."+evt.namespace+" - attribute [data-target] was not specified"),targetSelector&&$(targetSelector).length){var targetElement=$(targetSelector),url;$(triggerElement).is("form")?url=$(triggerElement).attr("action"):$(triggerElement).is("[type=button]")?url=$(triggerElement).is("[href]")?$(triggerElement).attr("href"):$(triggerElement).attr("data-href"):$(triggerElement).is("a")?url=$(triggerElement).attr("href"):console.log("[Error] "+evt.type+"."+evt.namespace+" - type of trigger element not support");var param=$(triggerElement).is("form")?$(triggerElement).serialize():{};$(triggerElement).is("form")?(configBlockUI&&$(triggerElement).block(configBlockUI),$(triggerElement).find("[type=submit]").attr("disabled",!0)):$(triggerElement).attr("disabled",!0),configBlockUI&&$(targetElement).block(configBlockUI),$.ajax({url:url,data:param,cache:!1,method:$(triggerElement).is("form[method]")?$(triggerElement).attr("method"):"get",success:function(e,t,o){var a;$(e).length||(e="<div>"+e+"</div>"),a="prepend"==toggleMode?$(e).prependTo(targetElement):"append"==toggleMode?$(e).appendTo(targetElement):"before"==toggleMode?$(e).insertBefore(targetElement):$(e).insertAfter(targetElement),"fade"==toggleTransition?$(a).hide().fadeIn("normal",function(){$(document).trigger(evt.type+"Callback.bsx").off(evt.type+"Callback.bsx")}):"slide"==toggleTransition?$(a).hide().slideDown("normal",function(){$(document).trigger(evt.type+"Callback.bsx").off(evt.type+"Callback.bsx")}):($(a).hide().show(),$(document).trigger(evt.type+"Callback.bsx").off(evt.type+"Callback.bsx")),"replace"==toggleMode&&("slide"==toggleTransition?$(targetElement).slideUp("normal",function(){$(targetElement).remove()}):$(targetElement).hide().remove()),history.pushState&&togglePushState&&history.pushState({"pushState.bsx":{targetSelector:targetSelector,toggleMode:toggleMode,toggleTransition:toggleTransition,toggleCallback:toggleCallback,toggleLoading:toggleLoading}},"",url)},complete:function(){$(triggerElement).is("form")?(configBlockUI&&$(triggerElement).unblock(),$(triggerElement).find("[type=submit]").attr("disabled",!1)):$(triggerElement).attr("disabled",!1),configBlockUI&&$(targetElement).unblock()}})}else $(triggerElement).removeAttr("data-toggle"),"ajaxSubmit"==evt.type?$(triggerElement).submit():document.location.href=$(triggerElement).is("[href]")?$(triggerElement).attr("href"):$(triggerElement).attr("data-href")}),$(window).on("popstate",function(e){})}),function(){"use strict";function e(e){e.fn._fadeIn=e.fn.fadeIn;var t=e.noop||function(){},o=/MSIE/.test(navigator.userAgent),a=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent),n=(document.documentMode,e.isFunction(document.createElement("div").style.setExpression));e.blockUI=function(e){i(window,e)},e.unblockUI=function(e){s(window,e)},e.growlUI=function(t,o,a,n){var l=e('<div class="growlUI"></div>');t&&l.append("<h1>"+t+"</h1>"),o&&l.append("<h2>"+o+"</h2>"),void 0===a&&(a=3e3);var r=function(t){t=t||{},e.blockUI({message:l,fadeIn:void 0!==t.fadeIn?t.fadeIn:700,fadeOut:void 0!==t.fadeOut?t.fadeOut:1e3,timeout:void 0!==t.timeout?t.timeout:a,centerY:!1,showOverlay:!1,onUnblock:n,css:e.blockUI.defaults.growlCSS})};r(),l.css("opacity"),l.mouseover(function(){r({fadeIn:0,timeout:3e4});var t=e(".blockMsg");t.stop(),t.fadeTo(300,1)}).mouseout(function(){e(".blockMsg").fadeOut(1e3)})},e.fn.block=function(t){if(this[0]===window)return e.blockUI(t),this;var o=e.extend({},e.blockUI.defaults,t||{});return this.each(function(){var t=e(this);o.ignoreIfBlocked&&t.data("blockUI.isBlocked")||t.unblock({fadeOut:0})}),this.each(function(){"static"==e.css(this,"position")&&(this.style.position="relative",e(this).data("blockUI.static",!0)),this.style.zoom=1,i(this,t)})},e.fn.unblock=function(t){return this[0]===window?(e.unblockUI(t),this):this.each(function(){s(this,t)})},e.blockUI.version=2.7,e.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};var l=null,r=[];function i(i,d){var g,m,b=i==window,p=d&&void 0!==d.message?d.message:void 0;if(!(d=e.extend({},e.blockUI.defaults,d||{})).ignoreIfBlocked||!e(i).data("blockUI.isBlocked")){if(d.overlayCSS=e.extend({},e.blockUI.defaults.overlayCSS,d.overlayCSS||{}),g=e.extend({},e.blockUI.defaults.css,d.css||{}),d.onOverlayClick&&(d.overlayCSS.cursor="pointer"),m=e.extend({},e.blockUI.defaults.themedCSS,d.themedCSS||{}),p=void 0===p?d.message:p,b&&l&&s(window,{fadeOut:0}),p&&"string"!=typeof p&&(p.parentNode||p.jquery)){var h=p.jquery?p[0]:p,v={};e(i).data("blockUI.history",v),v.el=h,v.parent=h.parentNode,v.display=h.style.display,v.position=h.style.position,v.parent&&v.parent.removeChild(h)}e(i).data("blockUI.onUnblock",d.onUnblock);var k,y,x,I,$=d.baseZ;k=o||d.forceIframe?e('<iframe class="blockUI" style="z-index:'+$+++';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+d.iframeSrc+'"></iframe>'):e('<div class="blockUI" style="display:none"></div>'),y=d.theme?e('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+$+++';display:none"></div>'):e('<div class="blockUI blockOverlay" style="z-index:'+$+++';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>'),d.theme&&b?(I='<div class="blockUI '+d.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+($+10)+';display:none;position:fixed">',d.title&&(I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(d.title||"&nbsp;")+"</div>"),I+='<div class="ui-widget-content ui-dialog-content"></div>',I+="</div>"):d.theme?(I='<div class="blockUI '+d.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+($+10)+';display:none;position:absolute">',d.title&&(I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(d.title||"&nbsp;")+"</div>"),I+='<div class="ui-widget-content ui-dialog-content"></div>',I+="</div>"):I=b?'<div class="blockUI '+d.blockMsgClass+' blockPage" style="z-index:'+($+10)+';display:none;position:fixed"></div>':'<div class="blockUI '+d.blockMsgClass+' blockElement" style="z-index:'+($+10)+';display:none;position:absolute"></div>',x=e(I),p&&(d.theme?(x.css(m),x.addClass("ui-widget-content")):x.css(g)),d.theme||y.css(d.overlayCSS),y.css("position",b?"fixed":"absolute"),(o||d.forceIframe)&&k.css("opacity",0);var E=[k,y,x],w=e(b?"body":i);e.each(E,function(){this.appendTo(w)}),d.theme&&d.draggable&&e.fn.draggable&&x.draggable({handle:".ui-dialog-titlebar",cancel:"li"});var U=n&&(!e.support.boxModel||e("object,embed",b?null:i).length>0);if(a||U){if(b&&d.allowBodyStretch&&e.support.boxModel&&e("html,body").css("height","100%"),(a||!e.support.boxModel)&&!b)var C=f(i,"borderTopWidth"),S=f(i,"borderLeftWidth"),T=C?"(0 - "+C+")":0,O=S?"(0 - "+S+")":0;e.each(E,function(e,t){var o=t[0].style;if(o.position="absolute",e<2)b?o.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+d.quirksmodeOffsetHack+') + "px"'):o.setExpression("height",'this.parentNode.offsetHeight + "px"'),b?o.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):o.setExpression("width",'this.parentNode.offsetWidth + "px"'),O&&o.setExpression("left",O),T&&o.setExpression("top",T);else if(d.centerY)b&&o.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),o.marginTop=0;else if(!d.centerY&&b){var a="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+(d.css&&d.css.top?parseInt(d.css.top,10):0)+') + "px"';o.setExpression("top",a)}})}if(p&&(d.theme?x.find(".ui-widget-content").append(p):x.append(p),(p.jquery||p.nodeType)&&e(p).show()),(o||d.forceIframe)&&d.showOverlay&&k.show(),d.fadeIn){var B=d.onBlock?d.onBlock:t,j=d.showOverlay&&!p?B:t,M=p?B:t;d.showOverlay&&y._fadeIn(d.fadeIn,j),p&&x._fadeIn(d.fadeIn,M)}else d.showOverlay&&y.show(),p&&x.show(),d.onBlock&&d.onBlock.bind(x)();if(c(1,i,d),b?(l=x[0],r=e(d.focusableElements,l),d.focusInput&&setTimeout(u,20)):function(e,t,o){var a=e.parentNode,n=e.style,l=(a.offsetWidth-e.offsetWidth)/2-f(a,"borderLeftWidth"),r=(a.offsetHeight-e.offsetHeight)/2-f(a,"borderTopWidth");t&&(n.left=l>0?l+"px":"0"),o&&(n.top=r>0?r+"px":"0")}(x[0],d.centerX,d.centerY),d.timeout){var L=setTimeout(function(){b?e.unblockUI(d):e(i).unblock(d)},d.timeout);e(i).data("blockUI.timeout",L)}}}function s(t,o){var a,n,i=t==window,s=e(t),g=s.data("blockUI.history"),u=s.data("blockUI.timeout");u&&(clearTimeout(u),s.removeData("blockUI.timeout")),o=e.extend({},e.blockUI.defaults,o||{}),c(0,t,o),null===o.onUnblock&&(o.onUnblock=s.data("blockUI.onUnblock"),s.removeData("blockUI.onUnblock")),n=i?e("body").children().filter(".blockUI").add("body > .blockUI"):s.find(">.blockUI"),o.cursorReset&&(n.length>1&&(n[1].style.cursor=o.cursorReset),n.length>2&&(n[2].style.cursor=o.cursorReset)),i&&(l=r=null),o.fadeOut?(a=n.length,n.stop().fadeOut(o.fadeOut,function(){0==--a&&d(n,g,o,t)})):d(n,g,o,t)}function d(t,o,a,n){var l=e(n);if(!l.data("blockUI.isBlocked")){t.each(function(e,t){this.parentNode&&this.parentNode.removeChild(this)}),o&&o.el&&(o.el.style.display=o.display,o.el.style.position=o.position,o.el.style.cursor="default",o.parent&&o.parent.appendChild(o.el),l.removeData("blockUI.history")),l.data("blockUI.static")&&l.css("position","static"),"function"==typeof a.onUnblock&&a.onUnblock(n,a);var r=e(document.body),i=r.width(),s=r[0].style.width;r.width(i-1).width(i),r[0].style.width=s}}function c(t,o,a){var n=o==window,r=e(o);if((t||(!n||l)&&(n||r.data("blockUI.isBlocked")))&&(r.data("blockUI.isBlocked",t),n&&a.bindEvents&&(!t||a.showOverlay))){var i="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";t?e(document).bind(i,a,g):e(document).unbind(i,g)}}function g(t){if("keydown"===t.type&&t.keyCode&&9==t.keyCode&&l&&t.data.constrainTabKey){var o=r,a=!t.shiftKey&&t.target===o[o.length-1],n=t.shiftKey&&t.target===o[0];if(a||n)return setTimeout(function(){u(n)},10),!1}var i=t.data,s=e(t.target);return s.hasClass("blockOverlay")&&i.onOverlayClick&&i.onOverlayClick(t),s.parents("div."+i.blockMsgClass).length>0||0===s.parents().children().filter("div.blockUI").length}function u(e){if(r){var t=r[!0===e?r.length-1:0];t&&t.focus()}}function f(t,o){return parseInt(e.css(t,o),10)||0}}"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e(jQuery)}();