$(function(){$(document).ajaxError(function(e,t,o){if($("body").is("[data-ajax-error]")){var a=$("body").attr("data-ajax-error").length?$("body").attr("data-ajax-error"):"modal";if("modal"==a){var l='<h3 style="margin-top: 0;" title="'+o.url+'">Error</h3><pre>'+t.responseText+"</pre>",n=$(".modal:visible .modal-body");if($(n).length){var r=$("#bs-extend-error-alert");$(r).length||(r=$('<div id="bs-extend-error-alert" class="alert alert-danger"></div>'),$(r).prependTo(n).hide()),$(r).html(l).filter(":visible").hide().fadeIn().end().filter(":hidden").slideDown().end().off("click").on("click",function(){$(r).slideUp()})}else{var i=$("#bs-extend-error-modal");$(i).length||(i=$('<div id="bs-extend-error-modal" class="modal fade" data-nocache role="dialog"><div class="modal-dialog"><div class="modal-content panel panel-danger"><div class="modal-body panel-heading" style="border-radius: 6px;"></div></div></div></div>'),$(i).appendTo("body")),$(i).find(".modal-body").html(l).end().modal("show")}}else alert("[Error]\n"+o.url+"\n"+t.responseText)}}),$(document).on("hidden.bs.modal","[data-nocache]",function(){$(this).removeData("bs.modal").find(".modal-body").html('<h1 class="text-muted text-center"><i class="fa fa-spinner fa-spin"></i></h1>')}),$(document).on("click","[data-toggle=ajax-load]",function(e){e.preventDefault();var t=this;$(document).trigger("ajaxLoad.bsx",t)}).on("submit","[data-toggle=ajax-submit]",function(e){e.preventDefault();var t=$(this).closest("form");$(document).trigger("ajaxSubmit.bsx",t)}).on("ajaxLoad.bsx ajaxSubmit.bsx",function(evt,triggerElement){if($(triggerElement).is("[data-confirm]")){var msg=$(triggerElement).attr("data-confirm").length?$(triggerElement).attr("data-confirm"):"Are you sure?";if(!confirm(msg))return!1}var targetSelector=$(triggerElement).attr("data-target"),toggleMode=$(triggerElement).is("[data-toggle-mode]")?$(triggerElement).attr("data-toggle-mode"):"replace",toggleTransition=$(triggerElement).is("[data-toggle-transition]")?$(triggerElement).attr("data-toggle-transition"):"slide",toggleCallback=$(triggerElement).is("[data-toggle-callback]")?$(triggerElement).attr("data-toggle-callback"):"",toggleLoading=$(triggerElement).is("[data-toggle-loading]")?$(triggerElement).attr("data-toggle-loading"):"progress",togglePushState=$(triggerElement).is("[data-toggle-pushstate]")?!0:!1,configBlockUI;$.fn.block&&(configBlockUI={message:!1,css:{backgroundColor:"none",border:"none"},fadeIn:0,showOverlay:!0},"none"==toggleLoading?configBlockUI.overlayCSS={"background-color":"white",opacity:0}:"spinner"==toggleLoading||"spinner-large"==toggleLoading?(configBlockUI.message="spinner-large"==toggleLoading?'<i class="fa fa-spin fa-spinner fa-4x text-muted"></i>':'<i class="fa fa-spin fa-spinner text-muted"></i>',configBlockUI.overlayCSS={"background-color":"gray",opacity:.1}):configBlockUI.overlayCSS="overlay"==toggleLoading?{"background-color":"gray",opacity:.1}:{"-webkit-animation":"progress-bar-stripes 2s linear infinite",animation:"progress-bar-stripes 2s linear infinite","background-color":"#bbb","background-image":"-webkit-linear-gradient(45deg, rgba(255, 255, 255, .15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .15) 50%, rgba(255, 255, 255, .15) 75%, transparent 75%, transparent)","background-image":"linear-gradient(45deg, rgba(255, 255, 255, .15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .15) 50%, rgba(255, 255, 255, .15) 75%, transparent 75%, transparent)","background-size":"40px 40px"});var toggleCallback=$(triggerElement).is("[data-toggle-callback]")?$(triggerElement).attr("data-toggle-callback"):"",toggleCallbackFunc=function(){};if(toggleCallback.length&&eval("toggleCallbackFunc = "+toggleCallback+";"),$(document).on(evt.type+"Callback.bsx",toggleCallbackFunc),targetSelector?$(targetSelector).length||console.log("[Error] "+evt.type+"."+evt.namespace+" - target not found ("+targetSelector+")"):console.log("[Error] "+evt.type+"."+evt.namespace+" - attribute [data-target] was not specified"),targetSelector&&$(targetSelector).length){var targetElement=$(targetSelector),url;$(triggerElement).is("form")?url=$(triggerElement).attr("action"):$(triggerElement).is("[type=button]")?url=$(triggerElement).attr($(triggerElement).is("[href]")?"href":"data-href"):$(triggerElement).is("a")?url=$(triggerElement).attr("href"):console.log("[Error] "+evt.type+"."+evt.namespace+" - type of trigger element not support");var param=$(triggerElement).is("form")?$(triggerElement).serialize():{};$(triggerElement).is("form")?(configBlockUI&&$(triggerElement).block(configBlockUI),$(triggerElement).find("[type=submit]").attr("disabled",!0)):$(triggerElement).attr("disabled",!0),configBlockUI&&$(targetElement).block(configBlockUI),$.ajax({url:url,data:param,cache:!1,method:$(triggerElement).is("form[method]")?$(triggerElement).attr("method"):"get",success:function(e){var t;$(e).length||(e="<div>"+e+"</div>"),t="prepend"==toggleMode?$(e).prependTo(targetElement):"append"==toggleMode?$(e).appendTo(targetElement):"before"==toggleMode?$(e).insertBefore(targetElement):$(e).insertAfter(targetElement),"fade"==toggleTransition?$(t).hide().fadeIn("normal",function(){$(document).trigger(evt.type+"Callback.bsx").off(evt.type+"Callback.bsx")}):"slide"==toggleTransition?$(t).hide().slideDown("normal",function(){$(document).trigger(evt.type+"Callback.bsx").off(evt.type+"Callback.bsx")}):($(t).hide().show(),$(document).trigger(evt.type+"Callback.bsx").off(evt.type+"Callback.bsx")),"replace"==toggleMode&&("slide"==toggleTransition?$(targetElement).slideUp("normal",function(){$(targetElement).remove()}):$(targetElement).hide().remove()),history.pushState&&togglePushState&&history.pushState({"pushState.bsx":{targetSelector:targetSelector,toggleMode:toggleMode,toggleTransition:toggleTransition,toggleCallback:toggleCallback,toggleLoading:toggleLoading}},"",url)},complete:function(){$(triggerElement).is("form")?(configBlockUI&&$(triggerElement).unblock(),$(triggerElement).find("[type=submit]").attr("disabled",!1)):$(triggerElement).attr("disabled",!1),configBlockUI&&$(targetElement).unblock()}})}else $(triggerElement).removeAttr("data-toggle"),"ajaxSubmit"==evt.type?$(triggerElement).submit():document.location.href=$(triggerElement).attr($(triggerElement).is("[href]")?"href":"data-href")}),$(window).on("popstate",function(){}),$(document).on("change","select[data-toggle=input-value]",function(e){e.preventDefault();var t=$(this).closest("select");$(document).trigger("inputValue.bsx",t)}).on("click","[data-toggle=input-value]:not(select)",function(e){e.preventDefault();var t=this;$(document).trigger("inputValue.bsx",t)}).on("inputValue.bsx",function(evt,triggerElement){var targetElement=$(triggerElement).attr("data-target");if(targetElement)if($(targetElement).length)if($(targetElement).is("input,select,textarea"))if($(triggerElement).is("[data-toggle-attr]")&&$(triggerElement).attr("data-toggle-attr").split(",").length){var attrList=$(triggerElement).attr("data-toggle-attr").split(",");$(targetElement).each(function(e){if(e<attrList.length){var t=$.trim(attrList[e]),o=$(triggerElement).is("select")?$(triggerElement).find(":selected").attr(t):$(triggerElement).attr(t);$(this).val(o)}})}else if($(triggerElement).is("[data-toggle-attr]")){var attrName=$(triggerElement).attr("data-toggle-attr"),newValue=$(triggerElement).is("select")?$(triggerElement).find(":selected").attr(attrName):$(triggerElement).attr(attrName);$(targetElement).val(newValue)}else{var newValue=$(triggerElement).is("input,select,textarea")?$(triggerElement).val():$.trim($(triggerElement).html());$(targetElement).val(newValue)}else console.log("[Error] "+evt.type+"."+evt.namespace+" - target is not a valid input field");else console.log("[Error] "+evt.type+"."+evt.namespace+" - target not found ("+targetElement+")");else console.log("[Error] "+evt.type+"."+evt.namespace+" - attribute [data-target] was not specified");var toggleCallback=$(triggerElement).is("[data-toggle-callback]")?$(triggerElement).attr("data-toggle-callback"):"";toggleCallback.length&&(eval("var toggleCallbackFunc = "+toggleCallback+";"),$(triggerElement).on("inputValueCallback.bsx",toggleCallbackFunc(evt)),$(document).on("inputValueCallback.bsx",function(e){triggerElement.callback=toggleCallbackFunc,triggerElement.callback(e)}),$(document).trigger("inputValueCallback.bsx").off("inputValueCallback.bsx"))})}),function(){"use strict";function e(e){function t(t,a){var n,b,p=t==window,h=a&&void 0!==a.message?a.message:void 0;if(a=e.extend({},e.blockUI.defaults,a||{}),!a.ignoreIfBlocked||!e(t).data("blockUI.isBlocked")){if(a.overlayCSS=e.extend({},e.blockUI.defaults.overlayCSS,a.overlayCSS||{}),n=e.extend({},e.blockUI.defaults.css,a.css||{}),a.onOverlayClick&&(a.overlayCSS.cursor="pointer"),b=e.extend({},e.blockUI.defaults.themedCSS,a.themedCSS||{}),h=void 0===h?a.message:h,p&&f&&o(window,{fadeOut:0}),h&&"string"!=typeof h&&(h.parentNode||h.jquery)){var v=h.jquery?h[0]:h,k={};e(t).data("blockUI.history",k),k.el=v,k.parent=v.parentNode,k.display=v.style.display,k.position=v.style.position,k.parent&&k.parent.removeChild(v)}e(t).data("blockUI.onUnblock",a.onUnblock);var y,$,E,x,I=a.baseZ;y=e(c||a.forceIframe?'<iframe class="blockUI" style="z-index:'+I++ +';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+a.iframeSrc+'"></iframe>':'<div class="blockUI" style="display:none"></div>'),$=e(a.theme?'<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+I++ +';display:none"></div>':'<div class="blockUI blockOverlay" style="z-index:'+I++ +';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>'),a.theme&&p?(x='<div class="blockUI '+a.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(I+10)+';display:none;position:fixed">',a.title&&(x+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(a.title||"&nbsp;")+"</div>"),x+='<div class="ui-widget-content ui-dialog-content"></div>',x+="</div>"):a.theme?(x='<div class="blockUI '+a.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(I+10)+';display:none;position:absolute">',a.title&&(x+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(a.title||"&nbsp;")+"</div>"),x+='<div class="ui-widget-content ui-dialog-content"></div>',x+="</div>"):x=p?'<div class="blockUI '+a.blockMsgClass+' blockPage" style="z-index:'+(I+10)+';display:none;position:fixed"></div>':'<div class="blockUI '+a.blockMsgClass+' blockElement" style="z-index:'+(I+10)+';display:none;position:absolute"></div>',E=e(x),h&&(a.theme?(E.css(b),E.addClass("ui-widget-content")):E.css(n)),a.theme||$.css(a.overlayCSS),$.css("position",p?"fixed":"absolute"),(c||a.forceIframe)&&y.css("opacity",0);var w=[y,$,E],U=e(p?"body":t);e.each(w,function(){this.appendTo(U)}),a.theme&&a.draggable&&e.fn.draggable&&E.draggable({handle:".ui-dialog-titlebar",cancel:"li"});var C=u&&(!e.support.boxModel||e("object,embed",p?null:t).length>0);if(g||C){if(p&&a.allowBodyStretch&&e.support.boxModel&&e("html,body").css("height","100%"),(g||!e.support.boxModel)&&!p)var S=s(t,"borderTopWidth"),T=s(t,"borderLeftWidth"),B=S?"(0 - "+S+")":0,O=T?"(0 - "+T+")":0;e.each(w,function(e,t){var o=t[0].style;if(o.position="absolute",2>e)p?o.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+a.quirksmodeOffsetHack+') + "px"'):o.setExpression("height",'this.parentNode.offsetHeight + "px"'),p?o.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):o.setExpression("width",'this.parentNode.offsetWidth + "px"'),O&&o.setExpression("left",O),B&&o.setExpression("top",B);else if(a.centerY)p&&o.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),o.marginTop=0;else if(!a.centerY&&p){var l=a.css&&a.css.top?parseInt(a.css.top,10):0,n="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+l+') + "px"';o.setExpression("top",n)}})}if(h&&(a.theme?E.find(".ui-widget-content").append(h):E.append(h),(h.jquery||h.nodeType)&&e(h).show()),(c||a.forceIframe)&&a.showOverlay&&y.show(),a.fadeIn){var M=a.onBlock?a.onBlock:d,j=a.showOverlay&&!h?M:d,L=h?M:d;a.showOverlay&&$._fadeIn(a.fadeIn,j),h&&E._fadeIn(a.fadeIn,L)}else a.showOverlay&&$.show(),h&&E.show(),a.onBlock&&a.onBlock();if(l(1,t,a),p?(f=E[0],m=e(a.focusableElements,f),a.focusInput&&setTimeout(r,20)):i(E[0],a.centerX,a.centerY),a.timeout){var z=setTimeout(function(){p?e.unblockUI(a):e(t).unblock(a)},a.timeout);e(t).data("blockUI.timeout",z)}}}function o(t,o){var n,r=t==window,i=e(t),s=i.data("blockUI.history"),d=i.data("blockUI.timeout");d&&(clearTimeout(d),i.removeData("blockUI.timeout")),o=e.extend({},e.blockUI.defaults,o||{}),l(0,t,o),null===o.onUnblock&&(o.onUnblock=i.data("blockUI.onUnblock"),i.removeData("blockUI.onUnblock"));var c;c=r?e("body").children().filter(".blockUI").add("body > .blockUI"):i.find(">.blockUI"),o.cursorReset&&(c.length>1&&(c[1].style.cursor=o.cursorReset),c.length>2&&(c[2].style.cursor=o.cursorReset)),r&&(f=m=null),o.fadeOut?(n=c.length,c.stop().fadeOut(o.fadeOut,function(){0===--n&&a(c,s,o,t)})):a(c,s,o,t)}function a(t,o,a,l){var n=e(l);if(!n.data("blockUI.isBlocked")){t.each(function(){this.parentNode&&this.parentNode.removeChild(this)}),o&&o.el&&(o.el.style.display=o.display,o.el.style.position=o.position,o.parent&&o.parent.appendChild(o.el),n.removeData("blockUI.history")),n.data("blockUI.static")&&n.css("position","static"),"function"==typeof a.onUnblock&&a.onUnblock(l,a);var r=e(document.body),i=r.width(),s=r[0].style.width;r.width(i-1).width(i),r[0].style.width=s}}function l(t,o,a){var l=o==window,r=e(o);if((t||(!l||f)&&(l||r.data("blockUI.isBlocked")))&&(r.data("blockUI.isBlocked",t),l&&a.bindEvents&&(!t||a.showOverlay))){var i="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";t?e(document).bind(i,a,n):e(document).unbind(i,n)}}function n(t){if("keydown"===t.type&&t.keyCode&&9==t.keyCode&&f&&t.data.constrainTabKey){var o=m,a=!t.shiftKey&&t.target===o[o.length-1],l=t.shiftKey&&t.target===o[0];if(a||l)return setTimeout(function(){r(l)},10),!1}var n=t.data,i=e(t.target);return i.hasClass("blockOverlay")&&n.onOverlayClick&&n.onOverlayClick(t),i.parents("div."+n.blockMsgClass).length>0?!0:0===i.parents().children().filter("div.blockUI").length}function r(e){if(m){var t=m[e===!0?m.length-1:0];t&&t.focus()}}function i(e,t,o){var a=e.parentNode,l=e.style,n=(a.offsetWidth-e.offsetWidth)/2-s(a,"borderLeftWidth"),r=(a.offsetHeight-e.offsetHeight)/2-s(a,"borderTopWidth");t&&(l.left=n>0?n+"px":"0"),o&&(l.top=r>0?r+"px":"0")}function s(t,o){return parseInt(e.css(t,o),10)||0}e.fn._fadeIn=e.fn.fadeIn;var d=e.noop||function(){},c=/MSIE/.test(navigator.userAgent),g=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent);document.documentMode||0;var u=e.isFunction(document.createElement("div").style.setExpression);e.blockUI=function(e){t(window,e)},e.unblockUI=function(e){o(window,e)},e.growlUI=function(t,o,a,l){var n=e('<div class="growlUI"></div>');t&&n.append("<h1>"+t+"</h1>"),o&&n.append("<h2>"+o+"</h2>"),void 0===a&&(a=3e3);var r=function(t){t=t||{},e.blockUI({message:n,fadeIn:void 0!==t.fadeIn?t.fadeIn:700,fadeOut:void 0!==t.fadeOut?t.fadeOut:1e3,timeout:void 0!==t.timeout?t.timeout:a,centerY:!1,showOverlay:!1,onUnblock:l,css:e.blockUI.defaults.growlCSS})};r(),n.css("opacity"),n.mouseover(function(){r({fadeIn:0,timeout:3e4});var t=e(".blockMsg");t.stop(),t.fadeTo(300,1)}).mouseout(function(){e(".blockMsg").fadeOut(1e3)})},e.fn.block=function(o){if(this[0]===window)return e.blockUI(o),this;var a=e.extend({},e.blockUI.defaults,o||{});return this.each(function(){var t=e(this);a.ignoreIfBlocked&&t.data("blockUI.isBlocked")||t.unblock({fadeOut:0})}),this.each(function(){"static"==e.css(this,"position")&&(this.style.position="relative",e(this).data("blockUI.static",!0)),this.style.zoom=1,t(this,o)})},e.fn.unblock=function(t){return this[0]===window?(e.unblockUI(t),this):this.each(function(){o(this,t)})},e.blockUI.version=2.66,e.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};var f=null,m=[]}"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e(jQuery)}();